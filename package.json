{
	"name": "ingoa.nz",
	"version": "1.0.0",
	"description": "Ngā Ingoa o Aotearoa: An oral dictionary of Māori placenames",
	"author": "Mark Honeychurch",
	"private": true,
	"scripts": {
		"prep": "run-s prep:nominatim:start prep:data:import prep:data:connect prep:nominatim:stop",
		"prep:tools": "npm install --global --production windows-build-tools",
		"prep:data:import": "node src/data/import.js",
		"prep:data:connect": "node src/data/connect.js",
		"prep:data:nedb": "node src/data/import.js nedb",
		"prep:nominatim:start": "docker start nominatim",
		"prep:nominatim:stop": "docker stop nominatim",
		"prep:images": "node src/client/static/img/staticmaps.js",
		"prep:apollo:broken": "cross-env NODE_ENV=development cd src/server/apollo service:push --config=./src/server/apollo/apollo.config.js --key=service:ingoa:78h4D9zEtDLOy15k554-IA",
		"prep:apollo": "apollo service:push --config=./src/server/apollo/apollo.config.js --endpoint=http://localhost:4000/graphql --key=service:ingoa:78h4D9zEtDLOy15k554-IA",
		"dev": "cross-env NODE_OPTIONS='--max-old-space-size=8192' run-p dev:apollo dev:nuxt:wait",
		"dev:nuxt:old": "node src/client/index.js",
		"dev:nuxt": "nuxt",
		"dev:chrome": "yarn dev:nuxt -- --inspect",
		"dev:share": "lt --port 8000 --subdomain ingoa",
		"dev:apollo": "nodemon src/server/apollo/index.js --watch src/server/apollo --watch src/server/db --ext js,graphql",
		"dev:apollo:wait": "wait-on tcp:4000",
		"dev:nuxt:wait": "run-s dev:apollo:wait dev:nuxt",
		"prod:build": "nuxt build",
		"prod:build:analyse": "yarn build -- --analyze",
		"prod:nuxt": "nuxt start",
		"prod:apollo": "node src/server/apollo/index.js",
		"prod:apollo:wait": "wait-on tcp:4000",
		"prod:apollo:stop": "pkill --signal SIGINT apollo",
		"prod:nuxt:wait": "run-s prod:apollo:wait prod:nuxt",
		"prod:server": "cross-env NODE_ENV=production node src/server/index.js",
		"prod:stop": "taskkill /F /im node.exe",
		"prod:start": "cross-env NODE_OPTIONS='--max-old-space-size=8192' run-p prod:apollo prod:nuxt:wait",
		"prod": "run-s prod:build prod:start",
		"pm2": "pm2 start ecosystem.config.js",
		"static": "run-s static:generate static:host",
		"static:nuxt": "nuxt generate",
		"static:generate": "cross-env NODE_OPTIONS='--max-old-space-size=8192' run-p static:delete start:apollo static:wait",
		"static:wait": "run-s prod:wait static:build",
		"static:delete": "rimraf dist",
		"static:build": "run-s static:nuxt prod:apollo:stop",
		"static:host": "BASE_URL=http://localhost:80 caddy -agree -conf Caddyfile.static",
		"docker:static": "docker build -t ingoa-static - < Dockerfile.static",
		"docker:dynamic": "docker build -t ingoa-dynamic - < Dockerfile.dynamic",
		"docker:build": "docker-compose build",
		"docker:generate": "run-s generate docker:static",
		"docker:up": "docker-compose up -d",
		"docker:print": "docker-compose ps && docker-compose exec ingoa pm2 ps",
		"docker:prod": "run-s docker:dynamic docker:up docker:print"
	},
	"dependencies": {
		"@nuxtjs/apollo": "^4.0.0-rc7",
		"@nuxtjs/dotenv": "^1.3.0",
		"@nuxtjs/feed": "^1.1.0",
		"@nuxtjs/google-analytics": "^2.2.0",
		"@nuxtjs/pwa": "^3.0.0-beta.16",
		"@nuxtjs/robots": "^2.2.0",
		"@nuxtjs/sitemap": "^1.2.0",
		"@nuxtjs/vuetify": "^1.0.0-beta.4",
		"apollo-cache-inmemory": "^1.6.2",
		"apollo-cache-persist": "^0.1.1",
		"apollo-server": "^2.6.6",
		"apollo-server-express": "^2.6.6",
		"core-js": "^2.6.9",
		"distinct-colors": "^1.0.4",
		"dotenv": "^8.0.0",
		"express": "^4.17.1",
		"graphql-import": "^0.7.1",
		"graphql-tag": "^2.10.1",
		"graphql-tools": "^4.0.5",
		"image-map": "^1.1.6",
		"jquery": "^3.4.1",
		"js-levenshtein": "^1.1.6",
		"lodash": "^4.17.11",
		"node-env-run": "^3.0.2",
		"nuxt": "^2.8.1",
		"nuxt-i18n": "^5.12.7",
		"nuxt-leaflet": "^0.0.19",
		"nuxt-trailingslash-module": "^1.1.0",
		"purgecss": "^1.3.0",
		"sofa-api": "^0.4.0",
		"stylus": "^0.54.5",
		"stylus-loader": "^3.0.2",
		"vue-object-merge": "^0.1.7",
		"vue2-google-maps": "^0.10.6",
		"vuetify": "^1.5.16",
		"vuetify-loader": "^1.2.2",
		"wait-on": "^3.2.0",
		"wavesurfer.js": "^2.2.1"
	},
	"devDependencies": {
		"@babel/runtime-corejs2": "^7.4.5",
		"@nuxtjs/localtunnel": "^1.1.1",
		"@nuxtjs/webpackmonitor": "^0.1.0",
		"@playlyfe/gql": "^2.6.1",
		"JSONStream": "^1.3.5",
		"apollo": "^2.14.1",
		"apollo-link-http": "^1.5.15",
		"appmetrics-dash": "^5.0.0",
		"axios": "^0.19.0",
		"cross-env": "^5.2.0",
		"csv": "^5.1.1",
		"express-nedb-rest": "^1.3.0",
		"ffmpeg-static": "^2.4.0",
		"loadtest": "^3.0.7",
		"localtunnel": "^1.9.2",
		"media-split": "^5.1.0",
		"mp3-split": "^4.1.0",
		"nedb": "^1.8.0",
		"nedb-async": "0.0.9",
		"node-fetch": "^2.6.0",
		"nodemon": "^1.19.1",
		"npm-run-all": "^4.1.5",
		"nuxt-memwatch": "^0.1.2",
		"pm2": "^3.5.1",
		"purgecss-webpack-plugin": "^1.5.0",
		"rimraf": "^2.6.3"
	}
}
